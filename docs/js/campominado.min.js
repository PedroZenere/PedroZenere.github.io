/*!
 * Start Bootstrap - Resume v5.0.2 (https://startbootstrap.com/template-overviews/resume)
 * Copyright 2013-2019 Start Bootstrap
 * Licensed under MIT (https://github.com/BlackrockDigital/startbootstrap-resume/blob/master/LICENSE)
 */

var m,s,mm,intervalo,text=document.getElementById("textocampominado"),qtdcampos=81,nbombas=10,row_limit=9,column_limit=9,minado=new Minado;function checar(a){var e=a.parentNode.rowIndex,n=a.cellIndex,o=9*e+n;"*"!=minado.casas[o]?("*"!=minado.casas[o]&&0!=minado.casas[o]?(campos[o].innerText=minado.casas[o],0==minado.revelado[o]&&(minado.revelado[o]=1,minado.revelados++)):0==minado.casas[o]&&0==minado.revelado[o]&&adjacente(e,n),checkwin()):endgame()}function checkwin(){if(minado.revelados==qtdcampos-nbombas){clearInterval(intervalo);for(var a=0;a<qtdcampos;a++)campos[a].onclick=function(){};text.innerText="Você venceu! Seu tempo foi de "+text.innerText}}function endgame(){for(var a=0;a<81;a++)"*"==minado.casas[a]&&(campos[a].innerHTML='<i class="fas fa-bomb"></i>'),campos[a].onclick=function(){};clearInterval(intervalo),text.innerText="Você perdeu! Seu tempo foi de "+text.innerText}function adjacente(a,e){if(campos[9*a+e].innerText=minado.casas[9*a+e],0==minado.revelado[9*a+e]&&(minado.revelado[9*a+e]=1,minado.revelados++),0<row_limit-1)for(var n=Math.max(0,a-1);n<=Math.min(a+1,row_limit-1);n++)for(var o=Math.max(0,e-1);o<=Math.min(e+1,column_limit-1);o++)n==a&&o==e||0!=minado.revelado[9*n+o]||(campos[9*n+o].innerText=minado.casas[9*n+o],0==minado.revelado[9*n+o]&&(minado.revelado[9*n+o]=1,minado.revelados++),0==minado.casas[9*n+o]&&adjacente(n,o))}function iniciar(){minado.gerar(),document.getElementById("icone").className="far fa-flag";for(var a=0;a<qtdcampos;a++)campos[a].innerText="",campos[a].onclick=function(){checar(this)};mm=s=m=0,clearInterval(intervalo),intervalo=0,intervalo=window.setInterval(function(){100==mm&&(s++,mm=0),60==s&&(m++,s=0),text.innerText=m<10?"0"+m+"m:":m+"m:",text.innerText=s<10?text.innerText+"0"+s+"s:":text.innerText+s+"s:",text.innerText=mm<10?text.innerText+"0"+mm:text.innerText+mm,mm+=1},10)}function trocar(){var a=document.getElementById("icone");if("far fa-flag"==a.className){console.log("Marcando"),a.className="fas fa-flag";for(var e=0;e<qtdcampos;e++)campos[e].onclick=function(){marcar(this)}}else{a.className="far fa-flag";for(e=0;e<qtdcampos;e++)campos[e].onclick=function(){checar(this)}}}function marcar(a){var e=9*a.parentNode.rowIndex+a.cellIndex;0==minado.revelado[e]&&(campos[e].innerHTML='<i class="fas fa-flag"></i>',console.log("nao foi revelado"))}